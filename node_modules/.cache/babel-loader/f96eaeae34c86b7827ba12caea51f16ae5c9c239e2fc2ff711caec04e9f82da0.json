{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createVNode as _createVNode, withCtx as _withCtx, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"container top-0 position-sticky z-index-sticky\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-12\"\n}, [/*#__PURE__*/_createCommentVNode(\" <navbar\\n          isBlur=\\\"blur  border-radius-lg my-3 py-2 start-0 end-0 mx-4 shadow\\\"\\n          v-bind:darkMode=\\\"true\\\"\\n          isBtn=\\\"bg-gradient-success\\\"\\n        /> \")])])], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"mt-0 main-content\"\n};\nconst _hoisted_3 = {\n  class: \"page-header min-vh-100\"\n};\nconst _hoisted_4 = {\n  class: \"container\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0\"\n};\nconst _hoisted_7 = {\n  class: \"card card-plain\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pb-0 card-header text-start\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"font-weight-bolder\"\n}, [/*#__PURE__*/_createTextVNode(\"Hi, \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\" Welcome back.\")]), /*#__PURE__*/_createCommentVNode(\" <p class=\\\"mb-0\\\">Enter your email and password to sign in</p> \")], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"card-body\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\"\n}, \"Username :\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"mb-3\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Password :\", -1 /* HOISTED */);\nconst _hoisted_14 = {\n  class: \"text-center\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"top-0 my-auto text-center col-12 d-lg-flex d-none h-100 pe-0 position-absolute end-0 justify-content-center flex-column\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"position-relative bg-gradient-primary h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center overflow-hidden\",\n  style: {\n    \"background-image\": \"url('./ixora_22.jpg')\",\n    \"background-size\": \"cover\",\n    \"background-position\": \"center\"\n  }\n})], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"main\", _hoisted_2, [_createElementVNode(\"section\", null, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"form\", {\n    role: \"form\",\n    onSubmit: _withModifiers($setup.login, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createVNode($setup[\"ArgonInput\"], {\n    id: \"username\",\n    type: \"\",\n    placeholder: \"username\",\n    name: \"username\",\n    size: \"lg\",\n    modelValue: $setup.username,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.username = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createVNode($setup[\"ArgonInput\"], {\n    id: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    size: \"lg\",\n    modelValue: $setup.password,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createCommentVNode(\" <argon-switch id=\\\"rememberMe\\\" name=\\\"remember-me\\\"\\n                      >Remember me</argon-switch\\n                    > \"), _createElementVNode(\"div\", _hoisted_14, [_createVNode($setup[\"ArgonButton\"], {\n    class: \"mt-4\",\n    type: \"submit\",\n    variant: \"gradient\",\n    color: \"danger\",\n    fullWidth: \"\",\n    size: \"lg\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Login\")]),\n    _: 1 /* STABLE */\n  })])], 32 /* NEED_HYDRATION */)]), _createCommentVNode(\" <div class=\\\"px-1 pt-0 text-center card-footer px-lg-2\\\">\\n                  <p class=\\\"mx-auto mb-4 text-sm\\\">\\n                    Don't have an account?\\n                    <a\\n                      href=\\\"javascript:;\\\"\\n                      class=\\\"text-success text-gradient font-weight-bold\\\"\\n                      >Sign up</a\\n                    >\\n                  </p>\\n                </div> \")])]), _hoisted_15])])])]), _createVNode($setup[\"ErrorModal\"], {\n    \"show-modal\": $setup.showErrorModal,\n    \"error-message\": $setup.errorMessage,\n    onClose: _cache[2] || (_cache[2] = $event => $setup.showErrorModal = false)\n  }, null, 8 /* PROPS */, [\"show-modal\", \"error-message\"]), _createVNode($setup[\"SuccessModal\"], {\n    \"show-modal\": $setup.showSuccessModal,\n    \"success-message\": $setup.successMessage,\n    onClose: $setup.goListPage\n  }, null, 8 /* PROPS */, [\"show-modal\", \"success-message\"])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_createCommentVNode","_createTextVNode","for","style","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","role","onSubmit","_withModifiers","$setup","login","_hoisted_10","_hoisted_11","_createVNode","id","type","placeholder","name","size","modelValue","username","_cache","$event","_hoisted_12","_hoisted_13","password","_hoisted_14","variant","color","fullWidth","default","_withCtx","_","_hoisted_15","showErrorModal","errorMessage","onClose","showSuccessModal","successMessage","goListPage"],"sources":["C:\\Users\\chink\\Documents\\GitHub\\ixora-dashboard\\src\\views\\Signin.vue"],"sourcesContent":["<script setup>\nimport { onBeforeUnmount, onBeforeMount } from \"vue\";\nimport { useStore } from \"vuex\";\n// import Navbar from \"@/examples/PageLayout/Navbar.vue\";\nimport ArgonInput from \"@/components/ArgonInput.vue\";\n// import ArgonSwitch from \"@/components/ArgonSwitch.vue\";\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport { apiRequest } from '@/assets/js/apiRequest.js'; \nimport ErrorModal from \"./components/ErrorModal.vue\";\nimport SuccessModal from \"./components/SuccessModal.vue\";\n\n\nimport { ref } from 'vue';\nimport { useRouter } from \"vue-router\";\n\nconst body = document.getElementsByTagName(\"body\")[0];\n\nconst store = useStore();\nonBeforeMount(() => {\n  store.state.hideConfigButton = true;\n  store.state.showNavbar = false;\n  store.state.showSidenav = false;\n  store.state.showFooter = false;\n  body.classList.remove(\"bg-gray-100\");\n});\nonBeforeUnmount(() => {\n  store.state.hideConfigButton = false;\n  store.state.showNavbar = true;\n  store.state.showSidenav = true;\n  store.state.showFooter = true;\n  body.classList.add(\"bg-gray-100\");\n});\n\n\nconst showErrorModal = ref(false);\nconst showSuccessModal = ref(false);\nconst errorMessage = ref('');\nconst successMessage = ref('');\n\nconst handleApiError = () => {\n  errorMessage.value = 'Username or Password Invalid';\n  showErrorModal.value = true;\n};\n\nconst handleApiSuccess = (message) => {\n  successMessage.value = message || 'Operation completed successfully';\n  showSuccessModal.value = true;\n};\n\nconst goListPage = () => {\n  showSuccessModal.value = false;\n  router.push('/account-management');\n};\n\nconst username = ref('');\nconst password = ref('');\nconst loggedIn = ref(false);\nconst user = ref('');\nconst router = useRouter();\n\n\nconst login = async () => {\n  try {\n    // Make API call to authenticate user\n    // Example using axios:\n    const response = await apiRequest('https://staging.itbrightsolution.com/ixora_backend/public/api/v1/login', {\n        username: username.value,\n        password: password.value\n    }, 'POST', false);\n\n    loggedIn.value = true;\n    user.value = response;\n    \n    // Assuming the response contains a token upon successful login\n    // Store the token in local storage\n    localStorage.setItem('access_token', response.data.access_token);\n    localStorage.setItem('user', JSON.stringify(response.data.user));\n    localStorage.setItem('authentication', true);\n    // For demonstration, setting loggedIn to true\n    \n\n    if (response.http_status < 300) {\n        handleApiSuccess('Login Successfully');\n      } else {\n        throw new Error(response.message);\n      }\n    }\n  catch (error) {\n    handleApiError(error);\n  }\n};\n\n</script>\n<template>\n  <div class=\"container top-0 position-sticky z-index-sticky\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <!-- <navbar\n          isBlur=\"blur  border-radius-lg my-3 py-2 start-0 end-0 mx-4 shadow\"\n          v-bind:darkMode=\"true\"\n          isBtn=\"bg-gradient-success\"\n        /> -->\n      </div>\n    </div>\n  </div>\n  <main class=\"mt-0 main-content\">\n    <section>\n      <div class=\"page-header min-vh-100\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div\n              class=\"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0\"\n            >\n              <div class=\"card card-plain\">\n                <div class=\"pb-0 card-header text-start\">\n                  <h4 class=\"font-weight-bolder\">Hi, <br> Welcome back.</h4>\n                  <!-- <p class=\"mb-0\">Enter your email and password to sign in</p> -->\n                </div>\n                <div class=\"card-body\">\n                  <form role=\"form\" @submit.prevent=\"login\">\n                    <div class=\"mb-3\">\n                      <label for=\"username\">Username :</label>\n                      <argon-input\n                        id=\"username\"\n                        type=\"\"\n                        placeholder=\"username\"\n                        name=\"username\"\n                        size=\"lg\"\n                        v-model=\"username\"\n                      />\n                    </div>\n                    <div class=\"mb-3\">\n                      <label for=\"password\">Password :</label>\n                      <argon-input\n                        id=\"password\"\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        name=\"password\"\n                        size=\"lg\"\n                        v-model=\"password\"\n                      />\n                    </div>\n                    <!-- <argon-switch id=\"rememberMe\" name=\"remember-me\"\n                      >Remember me</argon-switch\n                    > -->\n\n                    <div class=\"text-center\">\n                      <argon-button\n                        class=\"mt-4\"\n                        type=\"submit\"\n                        variant=\"gradient\"\n                        color=\"danger\"\n                        fullWidth\n                        size=\"lg\"\n                        >Login</argon-button\n                      >\n                    </div>\n                  </form>\n                </div>\n                <!-- <div class=\"px-1 pt-0 text-center card-footer px-lg-2\">\n                  <p class=\"mx-auto mb-4 text-sm\">\n                    Don't have an account?\n                    <a\n                      href=\"javascript:;\"\n                      class=\"text-success text-gradient font-weight-bold\"\n                      >Sign up</a\n                    >\n                  </p>\n                </div> -->\n              </div>\n            </div>\n            <div\n              class=\"top-0 my-auto text-center col-12 d-lg-flex d-none h-100 pe-0 position-absolute end-0 justify-content-center flex-column\"\n            >\n              <div\n                class=\"position-relative bg-gradient-primary h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center overflow-hidden\"\n                style=\"\n                  background-image: url('./ixora_22.jpg');\n                  background-size: cover;\n                  background-position: center;\n                \"\n              >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <error-modal :show-modal=\"showErrorModal\" :error-message=\"errorMessage\" @close=\"showErrorModal = false\" />\n    <success-modal :show-modal=\"showSuccessModal\" :success-message=\"successMessage\" @close=\"goListPage\" />\n  </main>\n</template>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}